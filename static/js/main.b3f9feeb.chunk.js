(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t.p+"static/media/loader.ddfae4aa.gif"},34:function(e,a,t){e.exports=t(66)},56:function(e,a,t){},57:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),l=t(24),r=t.n(l),o=t(25),c=t(26),i=t(32),m=t(27),g=t(6),u=t(33),d=t(9),h=t.n(d),p=t(28),E=t.n(p),f=function(e){return s.a.createElement("div",{className:"loading"},s.a.createElement("div",{className:"loading__center"},s.a.createElement("img",{src:E.a,alt:"Loading",className:"loading__image"}),s.a.createElement("p",{className:"loading__title"},"Loading")))},b=function(e){var a=e.personagens,t=e.load,n=e.getImage;return s.a.createElement("div",{className:"ui-center"},s.a.createElement("div",{className:"personagens"},a.map(function(e,a){return s.a.createElement("div",{className:"card__item",key:a,onClick:function(){return t(e)}},s.a.createElement("figure",{className:"card__image",style:{backgroundImage:"url(".concat(n(e.name),")")}}),s.a.createElement("div",{className:"card__info"},s.a.createElement("p",{className:"card__name"},e.name)))})))},v=function(e){var a=e.personagem,t=e.starships,n=e.close,l=e.getImage;return s.a.createElement("div",{className:"lightbox__mask"},s.a.createElement("div",{className:"lightbox__content"},s.a.createElement("button",{className:"lightbox__close",onClick:n},"x"),s.a.createElement("figure",{className:"lightbox__image",style:{backgroundImage:"url(".concat(l(a.name),")")}}),s.a.createElement("p",{className:"lightbox__name"},a.name),s.a.createElement("div",{className:"lightbox__persona-info"},s.a.createElement("p",null,s.a.createElement("strong",null,"Ano de Nacimento:")," ",a.birth_year),s.a.createElement("p",null,s.a.createElement("strong",null,"Altura:")," ",a.height,"cm"),s.a.createElement("p",null,s.a.createElement("strong",null,"Sexo:")," ",a.gender),s.a.createElement("p",null,s.a.createElement("strong",null,"Peso:")," ",a.mass,"kg"),s.a.createElement("p",null,s.a.createElement("strong",null,"Cor de Pele:")," ",a.skin_color),s.a.createElement("p",null,s.a.createElement("strong",null,"Cor dos Olhos:")," ",a.eye_color)),t.length>0&&s.a.createElement("div",null,s.a.createElement("p",{className:"lightbox__category"},"Naves"),s.a.createElement("div",{className:"lightbox__scroll"},t.map(function(e,a){return s.a.createElement("div",{className:"lightbox__category-item",key:a},s.a.createElement("p",null,s.a.createElement("strong",null,"Nome:")," ",e.name),s.a.createElement("p",null,s.a.createElement("strong",null,"Modelo:")," ",e.model),s.a.createElement("p",null,s.a.createElement("strong",null,"Fabricante:")," ",e.manufacturer),s.a.createElement("p",null,s.a.createElement("strong",null,"Hyperdrive Rating:")," ",e.hyperdrive_rating),s.a.createElement("p",null,s.a.createElement("strong",null,"Tripula\xe7\xe3o:")," ",e.crew),s.a.createElement("p",null,s.a.createElement("strong",null,"Passageiros:")," ",e.passengers))})))))},_=function(e){var a=e.pages,t=e.current,n=e.pageChange;return s.a.createElement("div",{className:"pagination"},a.map(function(e){return s.a.createElement("button",{key:e,id:e,onClick:n,className:e===t?"pagination__button pagination__button--active":"pagination__button"},e)}))},N=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={personagens:[],images:[],starships:[],lightbox:!1,activePersona:"",currentPage:1,personasPerPage:20,loaded:!1},t.loadPersonagens=t.loadPersonagens.bind(Object(g.a)(t)),t.loadStarships=t.loadStarships.bind(Object(g.a)(t)),t.loadInformation=t.loadInformation.bind(Object(g.a)(t)),t.closeLightbox=t.closeLightbox.bind(Object(g.a)(t)),t.pageChange=t.pageChange.bind(Object(g.a)(t)),t.loadImages=t.loadImages.bind(Object(g.a)(t)),t.getImage=t.getImage.bind(Object(g.a)(t)),t.loadPersonagens(),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"loadPersonagens",value:function(){var e=this;new Promise(function(e,a){!function e(a,t,n,s){h.a.get(a).then(function(a){var l=t.concat(a.data.results);null!==a.data.next?e(a.data.next,l,n,s):n(l)}).catch(function(e){console.log(e),s("Alguma coisa deu errado!")})}("https://swapi.co/api/people/",[],e,a)}).then(function(a){e.setState({personagens:a},function(){e.loadImages()}),e.setState({loaded:!0})})}},{key:"getImage",value:function(e){var a=this.state.images.filter(function(a){return a.name===e})[0];if(a)return a.src}},{key:"loadImages",value:function(){var e=this,a=localStorage.getItem("imagesStarWars");a?this.setState({images:JSON.parse(a)}):this.state.personagens.map(function(a,t){h.a.get("https://www.googleapis.com/customsearch/v1?key=AIzaSyA06brfbigdr4X6DHIXJstvfHfAWGuSDTk&cx=012736886285779599120:fy1nflo0e9k&q="+a.name).then(function(t){var n={name:a.name,src:t.data.items[0].pagemap.cse_image[0].src},s=e.state.images;s.push(n),e.setState({images:s},function(){e.state.personagens.length===s.length&&localStorage.setItem("imagesStarWars",JSON.stringify(s))})})})}},{key:"loadStarships",value:function(e){var a=this;this.setState({starships:[]}),e.map(function(e,t){h.a.get(e).then(function(e){a.setState({starships:a.state.starships.concat(e.data)})})})}},{key:"loadInformation",value:function(e){this.loadStarships(e.starships),this.setState({lightbox:!0}),this.setState({activePersona:e})}},{key:"closeLightbox",value:function(){this.setState({lightbox:!1}),this.setState({activePersona:null})}},{key:"pageChange",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"render",value:function(){for(var e=this.state,a=e.personagens,t=e.currentPage,n=e.personasPerPage,l=e.lightbox,r=e.activePersona,o=e.starships,c=(e.images,t*n),i=c-n,m=a.slice(i,c),g=[],u=1;u<=Math.ceil(a.length/n);u++)g.push(u);return s.a.createElement("div",null,s.a.createElement(b,{personagens:m,load:this.loadInformation,getImage:this.getImage}),!this.state.loaded&&s.a.createElement(f,null),l&&s.a.createElement(v,{personagem:r,starships:o,close:this.closeLightbox,getImage:this.getImage}),s.a.createElement(_,{pages:g,current:t,pageChange:this.pageChange}))}}]),a}(n.Component),S=t(29),k=t(7);t(56),t(57);r.a.render(s.a.createElement(S.a,null,s.a.createElement(function(e){return s.a.createElement("div",null,s.a.createElement("header",{className:"main-header ui-center"},s.a.createElement("h1",{className:"main-header__title"},"Personagens de Star Wars")),e.children)},null,s.a.createElement(k.a,{path:"/",component:N}))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b3f9feeb.chunk.js.map