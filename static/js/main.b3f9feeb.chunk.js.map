{"version":3,"sources":["images/loader.gif","components/loading/loading.js","components/cards/cards.js","components/lightbox/lightbox.js","components/pagination/pagination.js","pages/list/appList.js","utilities/utilities.js","index.js","app.js"],"names":["module","exports","__webpack_require__","p","loading","props","react_default","a","createElement","className","src","gif","alt","cards","_ref","personagens","load","getImage","map","personagem","index","key","onClick","style","backgroundImage","concat","name","lightbox_lightbox","starships","close","birth_year","height","gender","mass","skin_color","eye_color","length","starship","model","manufacturer","hyperdrive_rating","crew","passengers","pagination","pages","current","pageChange","number","id","AppLista","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","images","lightbox","activePersona","currentPage","personasPerPage","loaded","loadPersonagens","bind","assertThisInitialized","loadStarships","loadInformation","closeLightbox","loadImages","_this2","Promise","resolve","reject","getPersonas","url","axios","get","then","resp","apiPersonas","data","results","next","catch","error","console","log","Utils","setState","image","filter","v","_this3","ls","localStorage","getItem","JSON","parse","item","items","pagemap","cse_image","list","push","setItem","stringify","_this4","e","Number","target","_this$state","indexLastPersona","indexFirstPersona","currentPersonas","slice","pageNumbers","i","Math","ceil","Component","ReactDOM","render","react_router_dom","children","react_router","path","component","Lista","document","getElementById"],"mappings":"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","file":"static/js/main.b3f9feeb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loader.ddfae4aa.gif\";","import React from 'react';\r\nimport gif from '../../images/loader.gif';\r\n\r\nexport default props => (\r\n  <div className=\"loading\">\r\n    <div className=\"loading__center\">\r\n      <img src={gif} alt=\"Loading\" className=\"loading__image\" />\r\n      <p className=\"loading__title\">Loading</p>\r\n    </div>\r\n  </div>\r\n)\r\n","import React from 'react';\r\n\r\nexport default({personagens, load, getImage}) => {\r\n\r\n  const renderPersonas = () => {\r\n    return personagens.map((personagem, index) => (\r\n      <div className=\"card__item\" key={index} onClick={() => load(personagem)}>\r\n        <figure className=\"card__image\" style={{backgroundImage: `url(${getImage(personagem.name)})`}}></figure>\r\n        <div className=\"card__info\">\r\n          <p className=\"card__name\">{personagem.name}</p>\r\n        </div>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <div className=\"ui-center\">\r\n      <div className=\"personagens\">\r\n        {renderPersonas()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default({personagem, starships, close, getImage}) => {\r\n  const renderStarships = () => {\r\n    return starships.map((starship, index) =>(\r\n      <div className=\"lightbox__category-item\" key={index}>\r\n        <p><strong>Nome:</strong> {starship.name}</p>\r\n        <p><strong>Modelo:</strong> {starship.model}</p>\r\n        <p><strong>Fabricante:</strong> {starship.manufacturer}</p>\r\n        <p><strong>Hyperdrive Rating:</strong> {starship.hyperdrive_rating}</p>\r\n        <p><strong>Tripulação:</strong> {starship.crew}</p>\r\n        <p><strong>Passageiros:</strong> {starship.passengers}</p>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <div className=\"lightbox__mask\">\r\n      <div className=\"lightbox__content\">\r\n        <button className=\"lightbox__close\" onClick={close}>x</button>\r\n        <figure className=\"lightbox__image\" style={{backgroundImage: `url(${getImage(personagem.name)})`}}></figure>\r\n\r\n        <p className=\"lightbox__name\">{personagem.name}</p>\r\n        <div className=\"lightbox__persona-info\">\r\n          <p><strong>Ano de Nacimento:</strong> {personagem.birth_year}</p>\r\n          <p><strong>Altura:</strong> {personagem.height}cm</p>\r\n          <p><strong>Sexo:</strong> {personagem.gender}</p>\r\n          <p><strong>Peso:</strong> {personagem.mass}kg</p>\r\n          <p><strong>Cor de Pele:</strong> {personagem.skin_color}</p>\r\n          <p><strong>Cor dos Olhos:</strong> {personagem.eye_color}</p>\r\n        </div>\r\n        {starships.length > 0 &&\r\n          <div>\r\n            <p className=\"lightbox__category\">Naves</p>\r\n            <div className=\"lightbox__scroll\">\r\n              {renderStarships()}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default({pages, current, pageChange}) => {\r\n  const renderItens = () => {\r\n    return pages.map(number => (\r\n      <button key={number} id={number} onClick={pageChange} className={number === current ? 'pagination__button pagination__button--active' : 'pagination__button'}>{number}</button>\r\n    ));\r\n  }\r\n  return (\r\n    <div className=\"pagination\">\r\n      {renderItens()}\r\n    </div>\r\n  )\r\n}\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport Loading from '../../components/loading/loading';\r\nimport Cards from '../../components/cards/cards';\r\nimport Lightbox from '../../components/lightbox/lightbox';\r\nimport Pagination from '../../components/pagination/pagination';\r\nimport * as Utils from '../../utilities/utilities';\r\n\r\nconst URLPersonagens = 'https://swapi.co/api/people/';\r\n\r\nexport default class AppLista extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      personagens: [],\r\n      images: [],\r\n      starships: [],\r\n      lightbox: false,\r\n      activePersona: '',\r\n      currentPage: 1,\r\n      personasPerPage: 20,\r\n      loaded: false\r\n    }\r\n    this.loadPersonagens = this.loadPersonagens.bind(this);\r\n    this.loadStarships = this.loadStarships.bind(this);\r\n    this.loadInformation = this.loadInformation.bind(this);\r\n    this.closeLightbox = this.closeLightbox.bind(this);\r\n    this.pageChange = this.pageChange.bind(this);\r\n    this.loadImages = this.loadImages.bind(this);\r\n    this.getImage = this.getImage.bind(this);\r\n\r\n    this.loadPersonagens();\r\n  }\r\n\r\n  loadPersonagens() {\r\n    new Promise((resolve, reject) => {\r\n      Utils.getPersonas(URLPersonagens, [], resolve, reject)\r\n    })\r\n    .then(resp => {\r\n      this.setState({personagens: resp}, () => {\r\n        this.loadImages();\r\n      });\r\n      this.setState({loaded: true});\r\n    });\r\n  }\r\n\r\n  getImage(name) {\r\n    let image = this.state.images.filter(v => v.name === name)[0];\r\n    if (image) {\r\n      return image.src;\r\n    }\r\n  }\r\n\r\n  loadImages() {\r\n    var ls = localStorage.getItem('imagesStarWars');\r\n\r\n    if (ls) {\r\n      this.setState({images: JSON.parse(ls)});\r\n    } else {\r\n      this.state.personagens.map((personagem, index) => {\r\n        axios.get('https://www.googleapis.com/customsearch/v1?key=AIzaSyA06brfbigdr4X6DHIXJstvfHfAWGuSDTk&cx=012736886285779599120:fy1nflo0e9k&q=' + personagem.name)\r\n          .then(resp => {\r\n            let item = {name: personagem.name, src: resp.data.items[0].pagemap.cse_image[0].src};\r\n            let list = this.state.images;\r\n            list.push(item);\r\n            this.setState({images: list}, () => {\r\n              if (this.state.personagens.length === list.length) {\r\n                localStorage.setItem('imagesStarWars', JSON.stringify(list));\r\n              }\r\n            });\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStarships(starships) {\r\n    this.setState({starships: []});\r\n    starships.map((starship, index) => {\r\n      axios.get(starship).then(resp => {\r\n        this.setState({starships: this.state.starships.concat(resp.data)});\r\n      });\r\n    });\r\n  }\r\n\r\n  loadInformation(personagem) {\r\n    this.loadStarships(personagem.starships);\r\n    this.setState({lightbox: true});\r\n    this.setState({activePersona: personagem});\r\n  }\r\n\r\n  closeLightbox() {\r\n    this.setState({lightbox: false});\r\n    this.setState({activePersona: null});\r\n  }\r\n\r\n  pageChange(e) {\r\n    this.setState({currentPage: Number(e.target.id)});\r\n  }\r\n\r\n  render() {\r\n    const {personagens, currentPage, personasPerPage, lightbox, activePersona, starships, images} = this.state;\r\n\r\n    const indexLastPersona = currentPage * personasPerPage;\r\n    const indexFirstPersona = indexLastPersona - personasPerPage;\r\n    const currentPersonas = personagens.slice(indexFirstPersona, indexLastPersona);\r\n\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(personagens.length / personasPerPage); i++) {\r\n      pageNumbers.push(i);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Cards personagens={currentPersonas} load={this.loadInformation} getImage={this.getImage} />\r\n        {!this.state.loaded &&\r\n          <Loading />\r\n        }\r\n        {lightbox &&\r\n          <Lightbox personagem={activePersona} starships={starships} close={this.closeLightbox} getImage={this.getImage} />\r\n        }\r\n        <Pagination pages={pageNumbers} current={currentPage} pageChange={this.pageChange} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const getPersonas = (url, personagens, resolve, reject) => {\r\n  axios.get(url)\r\n    .then(resp => {\r\n      const apiPersonas = personagens.concat(resp.data.results);\r\n      if (resp.data.next !== null) {\r\n        getPersonas(resp.data.next, apiPersonas, resolve, reject);\r\n      } else {\r\n        resolve(apiPersonas);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      reject('Alguma coisa deu errado!');\r\n    })\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport Lista from './pages/list/appList';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\n\r\nimport './styles/main.scss';\r\nimport './fonts/stylesheet.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App>\r\n      <Route path='/' component={Lista}></Route>\r\n    </App>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n","import React from 'react';\r\n\r\nexport default props => (\r\n  <div>\r\n    <header className=\"main-header ui-center\">\r\n      <h1 className=\"main-header__title\">Personagens de Star Wars</h1>\r\n    </header>\r\n    {props.children}\r\n  </div>\r\n);\r\n"],"sourceRoot":""}